{% extends "base.html" %}

{% block title %}FAQ - Alpha Gestão Documental{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ url_for('docs.index') }}">Documentação</a></li>
                    <li class="breadcrumb-item active">FAQ</li>
                </ol>
            </nav>
            <h1><i class="bi bi-question-circle me-2"></i>Perguntas Frequentes (FAQ)</h1>
            <p class="lead text-muted">Respostas para as dúvidas mais comuns sobre o sistema</p>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="card sticky-top" style="top: 100px;">
                <div class="card-header">
                    <h6 class="mb-0">Categorias</h6>
                </div>
                <div class="list-group list-group-flush">
                    <a href="#geral" class="list-group-item list-group-item-action">Geral</a>
                    <a href="#usuarios" class="list-group-item list-group-item-action">Usuários e Acesso</a>
                    <a href="#documentos" class="list-group-item list-group-item-action">Documentos</a>
                    <a href="#aprovacoes" class="list-group-item list-group-item-action">Aprovações</a>
                    <a href="#qualidade" class="list-group-item list-group-item-action">Qualidade</a>
                    <a href="#suporte" class="list-group-item list-group-item-action">Suporte</a>
                </div>
            </div>
        </div>

        <div class="col-md-9">
            <!-- Geral -->
            <section id="geral" class="mb-5">
                <h3 class="border-bottom pb-2 mb-4">Geral</h3>
                
                <div class="accordion" id="accordionGeral">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#geral1">
                                O que é o Alpha Gestão Documental?
                            </button>
                        </h2>
                        <div id="geral1" class="accordion-collapse collapse show" data-bs-parent="#accordionGeral">
                            <div class="accordion-body">
                                É um sistema web completo para gestão de documentos, controle de qualidade e gestão de equipamentos, desenvolvido para atender normas como ISO 9001 e ISO 17025. O sistema permite criar, revisar, aprovar e controlar documentos com total rastreabilidade.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#geral2">
                                Preciso instalar algo no meu computador?
                            </button>
                        </h2>
                        <div id="geral2" class="accordion-collapse collapse" data-bs-parent="#accordionGeral">
                            <div class="accordion-body">
                                Não, o sistema é 100% web. Você só precisa de um navegador atualizado (Chrome, Firefox, Safari, Edge). Recomendamos manter o navegador sempre atualizado para melhor experiência.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#geral3">
                                O sistema funciona no celular?
                            </button>
                        </h2>
                        <div id="geral3" class="accordion-collapse collapse" data-bs-parent="#accordionGeral">
                            <div class="accordion-body">
                                Sim, o sistema é totalmente responsivo e funciona perfeitamente em dispositivos móveis e tablets. Você pode consultar documentos, aprovar, e executar a maioria das funções pelo celular.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Usuários e Acesso -->
            <section id="usuarios" class="mb-5">
                <h3 class="border-bottom pb-2 mb-4">Usuários e Acesso</h3>
                
                <div class="accordion" id="accordionUsuarios">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#usuarios1">
                                Como obtenho acesso ao sistema?
                            </button>
                        </h2>
                        <div id="usuarios1" class="accordion-collapse collapse" data-bs-parent="#accordionUsuarios">
                            <div class="accordion-body">
                                Entre em contato com o administrador do sistema da sua empresa para criar sua conta. O administrador definirá seu perfil de acesso conforme suas responsabilidades.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#usuarios2">
                                Esqueci minha senha, e agora?
                            </button>
                        </h2>
                        <div id="usuarios2" class="accordion-collapse collapse" data-bs-parent="#accordionUsuarios">
                            <div class="accordion-body">
                                Use a opção <strong>"Esqueci minha senha"</strong> na tela de login. Um email será enviado com instruções para redefinir sua senha. Se não receber o email, verifique a caixa de spam ou contate o administrador.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#usuarios3">
                                Por que não consigo ver alguns documentos?
                            </button>
                        </h2>
                        <div id="usuarios3" class="accordion-collapse collapse" data-bs-parent="#accordionUsuarios">
                            <div class="accordion-body">
                                O acesso é controlado por grupos/setores. Você só pode ver documentos do seu setor ou documentos públicos. Se precisar acessar documentos de outro setor, solicite ao administrador justificando a necessidade.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Documentos -->
            <section id="documentos" class="mb-5">
                <h3 class="border-bottom pb-2 mb-4">Documentos</h3>
                
                <div class="accordion" id="accordionDocumentos">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#docs1">
                                Como usar os templates de documento?
                            </button>
                        </h2>
                        <div id="docs1" class="accordion-collapse collapse" data-bs-parent="#accordionDocumentos">
                            <div class="accordion-body">
                                Ao criar um documento, selecione o tipo desejado (Procedimento, Instrução, etc.). O template será carregado automaticamente no editor. Você pode usar o template como base e personalizá-lo conforme necessário.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#docs2">
                                Qual o tamanho máximo de arquivo?
                            </button>
                        </h2>
                        <div id="docs2" class="accordion-collapse collapse" data-bs-parent="#accordionDocumentos">
                            <div class="accordion-body">
                                O limite atual é de 16MB por arquivo. Para arquivos maiores, considere dividir o conteúdo em múltiplos documentos ou contate o administrador para verificar possibilidades de aumento do limite.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#docs3">
                                Como funciona o versionamento?
                            </button>
                        </h2>
                        <div id="docs3" class="accordion-collapse collapse" data-bs-parent="#accordionDocumentos">
                            <div class="accordion-body">
                                Cada alteração em um documento cria uma nova versão automaticamente. O histórico completo é mantido permanentemente. Você pode comparar versões, ver o que mudou, e até restaurar uma versão anterior se necessário.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#docs4">
                                O que acontece quando um documento expira?
                            </button>
                        </h2>
                        <div id="docs4" class="accordion-collapse collapse" data-bs-parent="#accordionDocumentos">
                            <div class="accordion-body">
                                Você receberá notificações automáticas 30, 15 e 7 dias antes do vencimento. Documentos vencidos ficam marcados como "Expirado" e podem precisar de revisão ou renovação dependendo da política da empresa.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Aprovações -->
            <section id="aprovacoes" class="mb-5">
                <h3 class="border-bottom pb-2 mb-4">Aprovações</h3>
                
                <div class="accordion" id="accordionAprovacoes">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#aprov1">
                                Quem pode aprovar meus documentos?
                            </button>
                        </h2>
                        <div id="aprov1" class="accordion-collapse collapse" data-bs-parent="#accordionAprovacoes">
                            <div class="accordion-body">
                                Os aprovadores são definidos automaticamente baseado no tipo de documento e departamento. Geralmente incluem gestores, responsáveis técnicos e o setor de qualidade. O sistema mostra quem são os aprovadores antes do envio.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#aprov2">
                                Quanto tempo demora para aprovar?
                            </button>
                        </h2>
                        <div id="aprov2" class="accordion-collapse collapse" data-bs-parent="#accordionAprovacoes">
                            <div class="accordion-body">
                                O prazo padrão é de 5 dias úteis, mas pode variar conforme a complexidade e tipo do documento. Documentos críticos podem ter prazos reduzidos. Você pode acompanhar o status e histórico de aprovações na tela do documento.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#aprov3">
                                Posso cancelar um documento em aprovação?
                            </button>
                        </h2>
                        <div id="aprov3" class="accordion-collapse collapse" data-bs-parent="#accordionAprovacoes">
                            <div class="accordion-body">
                                Sim, enquanto estiver em aprovação, você pode cancelar e fazer edições. Use a opção "Cancelar Aprovação" na tela do documento. Depois das correções, envie novamente para aprovação.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Qualidade -->
            <section id="qualidade" class="mb-5">
                <h3 class="border-bottom pb-2 mb-4">Gestão de Qualidade</h3>
                
                <div class="accordion" id="accordionQualidade">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qual1">
                                Como reportar uma não conformidade?
                            </button>
                        </h2>
                        <div id="qual1" class="accordion-collapse collapse" data-bs-parent="#accordionQualidade">
                            <div class="accordion-body">
                                Vá em "Não Conformidades" no menu e clique em "Nova Não Conformidade". Descreva detalhadamente o problema, evidências, e impactos. O sistema guiará você no preenchimento das ações corretivas e preventivas.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#qual2">
                                O que são ações CAPA?
                            </button>
                        </h2>
                        <div id="qual2" class="accordion-collapse collapse" data-bs-parent="#accordionQualidade">
                            <div class="accordion-body">
                                CAPA significa "Ação Corretiva e Ação Preventiva". São medidas tomadas para corrigir problemas identificados (corretiva) e evitar que se repitam (preventiva). O sistema ajuda a estruturar e acompanhar essas ações.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Suporte -->
            <section id="suporte" class="mb-5">
                <h3 class="border-bottom pb-2 mb-4">Suporte e Contato</h3>
                
                <div class="accordion" id="accordionSuporte">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sup1">
                                Como entrar em contato com o suporte?
                            </button>
                        </h2>
                        <div id="sup1" class="accordion-collapse collapse" data-bs-parent="#accordionSuporte">
                            <div class="accordion-body">
                                <strong>Email:</strong> suporte@alphagestao.com<br>
                                <strong>Telefone:</strong> (11) 9999-9999<br>
                                <strong>Horário:</strong> Segunda a sexta, 8h às 18h<br>
                                <strong>Emergências:</strong> Disponível 24/7 para clientes Premium
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sup2">
                                O que fazer em caso de erro no sistema?
                            </button>
                        </h2>
                        <div id="sup2" class="accordion-collapse collapse" data-bs-parent="#accordionSuporte">
                            <div class="accordion-body">
                                <ol>
                                    <li>Anote a mensagem de erro completa</li>
                                    <li>Tente atualizar a página (F5)</li>
                                    <li>Verifique sua conexão com internet</li>
                                    <li>Se persistir, entre em contato com o suporte informando os passos que levaram ao erro</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dica de Busca -->
            <div class="alert alert-info">
                <h6><i class="bi bi-search me-2"></i>Não encontrou sua pergunta?</h6>
                <p class="mb-2">Use a busca do navegador (Ctrl+F) para procurar por palavras-chave nesta página.</p>
                <p class="mb-0">Se ainda assim não encontrar a resposta, entre em contato conosco: <a href="mailto:suporte@alphagestao.com">suporte@alphagestao.com</a></p>
            </div>
        </div>
    </div>
</div>

<style>
section {
    scroll-margin-top: 100px;
}
</style>

<script>
// Smooth scrolling e navegação ativa
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    });
});

window.addEventListener('scroll', function() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.list-group-item[href^="#"]');
    
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop - 150;
        const sectionHeight = section.offsetHeight;
        if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
            current = section.getAttribute('id');
        }
    });
    
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
            link.classList.add('active');
        }
    });
});
</script>
{% endblock %}